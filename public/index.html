<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Blue vs Red - Block Game</title>
  <link rel="stylesheet" href="index.css">
</head>
<body>
  <!-- Token Stats Section -->
  <div id="tokenStatsUI" class="token-stats-ui">
    <div class="token-stats-container">
      <div class="token-stats-content">
        <div class="token-ticker-container">
          <div class="token-ticker" id="tokenTicker"></div>
          <div class="token-socials" id="tokenSocials"></div>
        </div>
        <div class="token-stats-divider"></div>
        <div class="token-stat-item">
          <span class="token-stat-label">bought:</span>
          <span class="token-stat-value" id="tokenBought">0</span>
        </div>
        <div class="token-stat-item">
          <span class="token-stat-label">burned:</span>
          <span class="token-stat-value" id="tokenBurned">0</span>
        </div>
        <div class="token-stat-item">
          <span class="token-stat-label">sent:</span>
          <span class="token-stat-value" id="tokenSent">0</span>
        </div>
        <div class="token-stats-divider"></div>
        <div class="token-stat-item">
          <span class="token-stat-label">Ca:</span>
          <div class="token-ca-container">
            <span class="token-stat-value token-ca" id="tokenCA" title="">-</span>
            <button class="copy-button" id="copyCAButton" title="Copy contract address" style="display: none;">
              <svg class="copy-icon" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M16 1H4C2.9 1 2 1.9 2 3V17H4V3H16V1ZM19 5H8C6.9 5 6 5.9 6 7V21C6 22.1 6.9 23 8 23H19C20.1 23 21 22.1 21 21V7C21 5.9 20.1 5 19 5ZM19 21H8V7H19V21Z" fill="currentColor"/>
              </svg>
            </button>
          </div>
        </div>
      </div>
    </div>
  </div>
  
  <!-- Leaderboard Section -->
  <div id="leaderboardUI" class="leaderboard-ui">
    <div class="leaderboard-container">
      <div class="leaderboard-header">
        <span class="leaderboard-title">üèÜ Top Players</span>
      </div>
      <div class="leaderboard-content" id="leaderboardContent">
        <div class="leaderboard-loading">Loading...</div>
      </div>
    </div>
  </div>
  
  <!-- How Does It Work Panel -->
  <div class="how-it-works" id="how-it-works">
    <h3>HOW DOES IT WORK?</h3>
    <div class="steps-container">
      <div class="step-item">
        <span class="step-number">1.</span>
        <span class="step-text">
          The game runs continuous rounds, starting once enough players join the queue.
          Players are automatically split into Blue and Red teams.
        </span>
      </div>
      <div class="step-item">
        <span class="step-number">2.</span>
        <span class="step-text">
          Each round, Pump.fun creator fees are claimed to the pot wallet, which buys $PAINT tokens, burns 5%, and adds the rest to the prize pool.
        </span>
      </div>
      <div class="step-item">
        <span class="step-number">3.</span>
        <span class="step-text">
          Teams compete by moving across the map and coloring blocks in their team color.
          Bombs can be used to color large areas.
        </span>
      </div>
      <div class="step-item">
        <span class="step-number">4.</span>
        <span class="step-text">
          When the round ends, the team that colored the most blocks wins.
          All players on the winning team split the prize pool equally paid out in $PAINT tokens.
        </span>
      </div>
      <div class="step-item">
        <span class="step-number">5.</span>
        <span class="step-text">
          Joining is free for testing. After 24h, joining costs $PAINT tokens, which go into the pot for players to compete for.
        </span>
      </div>
    </div>
  </div>
  
  <div id="queueUI" class="game-ui">
    <div class="queue-container">
      <div class="queue-content">
        <div class="waiting-title">Waiting for Players</div>
        <div class="countdown-wrapper">
          <div class="countdown" id="queueCountdown">10s</div>
        </div>
        
        <div class="player-info">
          <div class="player-count-badge">
            <span class="player-icon">üë•</span>
            <span class="player-count-text">
              <span id="queuePlayerCount">0</span> / 2+ Players
            </span>
          </div>
          <div class="queue-message">Need at least 2 players to start</div>
        </div>
        
        <div id="queuePotAmount" class="queue-pot-amount" style="display: none;">
          <span class="pot-label">POT:</span>
          <span class="pot-value" id="queuePotValue">-</span>
        </div>
        
        <div id="joinedStatus" class="joined-status" style="display: none;">
          <span class="status-icon">‚úì</span>
          <span class="status-text">You are in the queue!</span>
        </div>
      </div>
    </div>
  </div>
  
  <div id="gameUI" class="game-ui" style="display: none;">
    <div class="game-container">
      <div class="team-score red-score">
        <span class="team-name">Red</span>
        <span class="block-count" id="redBlockCount">0</span>
      </div>
      <div class="game-timer" id="gameCountdown">120</div>
      <div class="team-score blue-score">
        <span class="team-name">Blue</span>
        <span class="block-count" id="blueBlockCount">0</span>
      </div>
    </div>
  </div>
  
  <div id="resultsUI" class="game-ui" style="display: none;">
    <div id="winnerText" class="winner-text"></div>
    <div id="redPercentage" class="percentage-text red-percentage"></div>
    <div id="bluePercentage" class="percentage-text blue-percentage"></div>
  </div>
  
  <!-- Chat Section -->
  <div id="chatUI" class="chat-ui">
    <div class="chat-container">
      <div class="chat-header">
        <span class="chat-title">Chat</span>
        <button id="chatToggle" class="chat-toggle" title="Toggle Chat">
          <svg class="chat-toggle-icon" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M19 9L12 16L5 9" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
          </svg>
        </button>
      </div>
      <div id="chatMessages" class="chat-messages"></div>
      <div class="chat-input-container">
        <input 
          type="text" 
          id="chatInput" 
          class="chat-input" 
          placeholder="Type a message..."
          maxlength="200"
          autocomplete="off"
        />
        <button id="chatSend" class="chat-send-button" title="Send">
          <svg class="chat-send-icon" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M22 2L11 13M22 2L15 22L11 13M22 2L2 9L11 13" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
          </svg>
        </button>
      </div>
    </div>
  </div>
  
  <!-- Bottom Action Bar -->
  <div class="bottom-action-bar">
    <div class="bottom-action-bar-container">
      <button id="hideUIButton" class="hide-ui-button" title="Hide/Show UI">
        <svg class="hide-ui-icon" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
          <path d="M1 12S5 4 12 4S23 12 23 12S19 20 12 20S1 12 1 12Z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
          <circle cx="12" cy="12" r="3" stroke="currentColor" stroke-width="2"/>
        </svg>
      </button>
      <button id="profileButton" class="profile-button" title="Edit Profile">
        <svg class="profile-icon" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
          <path d="M12 12C14.7614 12 17 9.76142 17 7C17 4.23858 14.7614 2 12 2C9.23858 2 7 4.23858 7 7C7 9.76142 9.23858 12 12 12Z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
          <path d="M20.59 22C20.59 18.13 16.74 15 12 15C7.26 15 3.41 18.13 3.41 22" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
        </svg>
      </button>
      <button id="joinButton" class="join-button">
        <span class="button-text">Join Game</span>
        <span class="button-glow"></span>
      </button>
    </div>
  </div>
  
  <!-- Player Info Modal -->
  <div id="playerInfoModal" class="player-info-modal" style="display: none;">
    <div class="modal-overlay"></div>
    <div class="modal-content">
      <div class="modal-header">
        <h2 class="modal-title">Enter Your Information</h2>
        <p class="modal-subtitle">Please provide your username and public wallet address to join the game</p>
      </div>
      <form id="playerInfoForm" class="player-info-form">
        <div class="form-group">
          <label for="usernameInput" class="form-label">Username</label>
          <input 
            type="text" 
            id="usernameInput" 
            class="form-input" 
            placeholder="Enter your username"
            required
            maxlength="50"
            autocomplete="off"
          />
          <div id="usernameError" class="error-message"></div>
        </div>
        <div class="form-group">
          <label for="walletInput" class="form-label">Public Wallet Address</label>
          <input 
            type="text" 
            id="walletInput" 
            class="form-input" 
            placeholder="Enter your public wallet address"
            required
            maxlength="200"
            autocomplete="off"
          />
          <div id="walletError" class="error-message"></div>
        </div>
        <div class="form-actions">
          <button type="submit" id="submitPlayerInfo" class="submit-button">
            <span class="button-text">Submit</span>
            <span class="button-glow"></span>
          </button>
        </div>
      </form>
    </div>
  </div>
  
  <canvas id="gameCanvas"></canvas>
  <script src="/socket.io/socket.io.js"></script>
  <script src="game/canvas.js"></script>
  <script src="game/camera.js"></script>
  <script src="game/star-background.js"></script>
  <script src="game/block.js"></script>
  <script src="game/map.js"></script>
  <script src="game/bomb.js"></script>
  <script src="game/thrown-bomb.js"></script>
  <script src="game/character.js"></script>
  <script src="game/remote-player.js"></script>
  <script src="game/input.js"></script>
  <script src="game/game.js"></script>
  <script src="index.js"></script>
</body>
</html>

